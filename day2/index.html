<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Day 2</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
  <div class="container">

      <form class="form" id="formRunCode">
        <label for="inputSequence" class="sr-only">Sequence: </label>
        <textarea id="inputMatrix"></textarea>
        <button class="btn btn-lg btn-primary btn-block" type="submit">Go!</button>
      </form>

    </div> <!-- /container -->
</body>
</html>
<script type='javascript' src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
$( "#formRunCode" ).submit(function(event) {
  let matrix = $("#inputMatrix").val()
  if (matrix)
    computeChecksumDiv(matrix)
  else
    alert('Please enter a matrix!')
});

// expect a tab delimited matrix of numbers
// to compute the checksum:
// 1. find the difference between the largest and smallest values in each row
// 2. compute the sum of this difference across all rows
function computeChecksumDiff(matrix) {
  let lines = matrix.split('\n');
  let checksum = 0
  for (let i=0; i<lines.length; i++) {
    let diff = 0
    let sortedArray = lines[i].split('\t').sort(function(a, b){return a-b})
    console.log('sorted array: ' + sortedArray)
    diff = sortedArray[sortedArray.length-1] - sortedArray[0]
    console.log('diff for line: ' + diff)
    checksum += diff
  }

  console.log('output checksum: ' + checksum)
}

// expect a tab delimited matrix of numbers
// each row will have 2 entries where one evenly divides the other
// to compute the checksum:
// 1. find the difference between the 2 entries that are evenly divisible
// 2. compute the sum of this difference across all rows
function computeChecksumDiv(matrix) {
  let lines = matrix.split('\n');
  let checksum = 0
  for (let i=0; i<lines.length; i++) {
    let sequence = lines[i].split('\t').sort(function(a, b){return b-a})
    for (let i=0; i<sequence.length; i++) {
      for (let n=0; n<sequence.length; n++) {
        if (((sequence[i] % sequence[n]) == 0) && (sequence[i] != sequence[n])) {
          checksum += sequence[i] / sequence[n]
        }
      }
    }
  }
  console.log('output checksum: ' + checksum)
}

</script>
